<h1 class="page-header">Login</h1>

<div class="row  show-hide-message">
	<div [ngClass]="messageClass" role="alert">
		{{message}}
	</div>
</div>

<form [formGroup]="form" (submit)="onLoginSubmit()">
	<div class="form-group">
		<label for="email">Email</label>
		<div [ngClass]="{'has-error': (form.controls.email.errors && form.controls.email.dirty) || (form.controls.email.dirty && !validateEmail) , 'has-success': (!form.controls.email.errors) ||(form.controls.email.dirty && validateEmail)}">
			<input type="text" name="email" class="form-control" autocomplete="off" placeholder="Email" formControlName="email">
			<span *ngIf="form.controls.email.errors?.required  && form.controls.email.dirty" class="help-block" >Email is required</span>
			<span *ngIf="form.controls.email.dirty && !form.controls.email.errors?.minlength && !form.controls.email.errors?.maxlength && form.controls.email.errors?.validateEmail" class="help-block" >Email is not valid</span>
		</div>
	</div>
	<div class="form-group">
		<label for="password">Password</label>
		<div [ngClass]="{'has-error': (form.controls.password.errors && form.controls.password.dirty ), 'has-success': (!form.controls.password.errors)}">
		<input type="password" name="password" class="form-control" autocomplete="off" placeholder="Password" formControlName="password">
		<span *ngIf="form.controls.password.errors?.required  && form.controls.password.dirty" class="help-block" >Password is required</span>
		</div>
	</div>
	<input type="submit" [disabled]="!form.valid || !validateEmail" class="btn btn-primary"  value="submit">
</form>